<!DOCTYPE html>
<html lang="en" dir="ltr">
  <head>
    <link rel="stylesheet" href="../richtexteditor/rte_theme_default.css"/>
    <script type="text/javascript" src="../richtexteditor/rte.js"></script>
    <script type="text/javascript" src='../richtexteditor/plugins/all_plugins.js'></script>
    <meta charset="utf-8">
    <title></title>
    <%- include('../partials/style-admin.css'); %>
  </head>
  <body>
    <div class="area">
      <h1>ExpressJS & knexJS CRUD System.</h1>
      <form class="" action="/admin/draft" method="post">
        <label>URL</label>
        <input style="width:80%; padding:5px;" class="slug_submit" type="slug" name="slug" placeholder="Type URL........" required><br><br>
        <label>Title</label>
        <input style="width:80%; padding:5px;" class="title_submit" type="title" name="title" placeholder="Type Title........" required><br><br>
        <label>Category</label>
        <input style="width:80%; padding:5px;" class="tag_submit" type="tag" name="tag" placeholder="Type Category........" required><br><br>
        <label>Tags</label>
        <input style="width:80%; padding:5px;" class="tagall_submit" type="tagall" name="tagall" placeholder="Type tags........" required><br><br>
        <label>Short Description</label>
        <input style="width:80%; padding:5px;" class="desc_submit" type="desc" name="desc" placeholder="Type Description........" required><br><br>
        <label>Author</label>
        <input style="width:80%; padding:5px;" class="author_submit" type="author" name="author" placeholder="Type author........" required><br><br>
        <select style="width:80%; padding:5px;" name="published" id="published">
          <option>Draft</option>
          <option>Publish</option>
        </select><br><br>
        <label>Created</label>
        <input style="width:80%; padding:5px;" class="created_submit" type="created" name="created" placeholder="Type created........" required><br><br>
        <label>Updated</label>
        <input style="width:80%; padding:5px;" class="updated_submit" type="updated" name="updated" placeholder="Type updated........" required><br><br>
        <textarea id="inp_editor1" name="content" rows="8" cols="80" required>
          &lt;p&gt;Initial Document Content&lt;/p&gt; 
        </textarea>
        <input class="button" type="submit" name="submit" id="" value="SUBMIT">
      </form>
    </div>

    <div class="result">

        <% for (let element of getall) {%>
          
          <div class="thumb">
            <h2><%- element.title %></h2>
            <p><%- element.content %></p>
            <form action="/admin/edit/draft/<%- element.id %>">
              <input class="button" type="submit" name="edit" value="Edit">
            </form>
            <form action="/admin/delete/draft/<%- element.id %>?_method=DELETE" method="post">
              <button type="submit" class="button delete">Delete</button>
            </form>
          </div>
        <% } %>
    </div>
    <script>
      var editor1 = new RichTextEditor("#inp_editor1");
    </script>
  </body>
</html>
